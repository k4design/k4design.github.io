// ===== DATA STRUCTURE (SWAPPABLE) =====
const eventData = {
    event: {
        name: "Ascend Agent Expo",
        dates: "October 16-17, 2025",
        location: "Orlando World Center Marriott",
        tagline: "Elevate Your Real Estate Career to New Heights",
        earlyBirdDeadline: "2025-08-15T09:00:00-04:00",
        eventStartDate: "2025-10-16T09:00:00-04:00"
    },
    
    sponsors: [
        {
            name: "LPT Realty",
            logo: "img/sponsors/lptrealty_logo_horizontal_white.png",
            link: "https://lptrealty.com"
        },
        {
            name: "Aperture Global",
            logo: "img/sponsors/apertureglobal_logo_white.png",
            link: "https://apertureglobal.com"
        },
        {
            name: "Showingtime Plus",
            logo: "img/sponsors/showing-logo.png",
            link: "https://showingtime.com"
        },
        {
            name: "Rocket Mortgage",
            logo: "img/sponsors/rocketmortgage_logo.webp",
            link: "https://rocketmortgage.com"
        },
        {
            name: "Fello",
            logo: "img/sponsors/sponsor-02.png",
            link: "https://fello.com"
        },
        {
            name: "Realtor.com",
            logo: "img/sponsors/realtorcom.png",
            link: "https://realtor.com"
        },
        {
            name: "Realty.com",
            logo: "img/sponsors/realtycom.svg",
            link: "https://realty.com"
        },
        {
            name: "ZooDealio",
            logo: "img/sponsors/zoodealio.png",
            link: "https://zoodealio.com"
        },
        {
            name: "Ruuster",
            logo: "img/sponsors/ruuster.png",
            link: "https://ruuster.com"
        },
        {
            name: "House Whisperer",
            logo: "img/sponsors/housewhisper.png",
            link: "https://housewhisper.com"
        },
        {
            name: "Comparion Insurance",
            logo: "img/sponsors/comparion_logo.png",
            link: "https://comparion.com"
        },
        {
            name: "Home Warranty of America",
            logo: "img/sponsors/hwa.png",
            link: "https://hwa.com"
        },
        {
            name: "Crexi",
            logo: "img/sponsors/sponsor-03.png",
            link: "https://crexi.com"
        },
        {
            name: "AM Cards",
            logo: "img/sponsors/amcards.png",
            link: "https://amcards.com"
        },
        {
            name: "Sponsor 01",
            logo: "img/sponsors/sponsor-01.png",
            link: "https://sponsor01.com"
        },
        {
            name: "UWM",
            logo: "img/sponsors/UWM_Logo.png",
            link: "https://uwm.com"
        },
        {
            name: "Citywide",
            logo: "img/sponsors/citywide_logo.png",
            link: "https://citywide.com"
        },
        {
            name: "MJV",
            logo: "img/sponsors/mjv.png",
            link: "https://mjv.com"
        },
        {
            name: "Mutual",
            logo: "img/sponsors/mutual-brand-white.svg",
            link: "https://mutual.com"
        },
        {
            name: "Responsive",
            logo: "img/sponsors/responsive_logo.png",
            link: "https://responsive.com"
        },
        {
            name: "Sponsor 5",
            logo: "img/sponsors/sponsor-05.png",
            link: "https://sponsor5.com"
        },
        {
            name: "Sponsor 6",
            logo: "img/sponsors/sponsor-06.png",
            link: "https://sponsor6.com"
        },
        {
            name: "Sponsor 7",
            logo: "img/sponsors/sponsor-07.png",
            link: "https://sponsor7.com"
        },
        {
            name: "Sponsor 8",
            logo: "img/sponsors/sponsor-08.png",
            link: "https://sponsor8.com"
        }
    ],
    
    pillars: [
        {
            title: "Network & Connect",
            description: "Build meaningful relationships with industry leaders, top-performing agents, and innovative service providers. Our curated networking sessions and exclusive meetups create opportunities for lasting professional connections.",
            icon: "ðŸ¤"
        },
        {
            title: "Learn & Grow",
            description: "Access cutting-edge strategies, market insights, and proven systems from the industry's most successful professionals. Interactive workshops and keynote sessions deliver actionable knowledge you can implement immediately.",
            icon: "ðŸ“ˆ"
        },
        {
            title: "Accelerate Success",
            description: "Discover the tools, technologies, and tactics that will propel your career forward. From lead generation to closing techniques, gain the competitive edge needed to dominate your market.",
            icon: "ðŸš€"
        }
    ],
    
    speakers: [
        {
            name: "Barry Jenkins",
            title: "CMO & Technology Evangelist",
            company: "Better Homes and Gardens Real Estate NAGR",
            photo: "img/blakejekins.jpg",
            tagline: "Innovative leader at the intersection of real estate and technology, driving transformation through AI and digital solutions.",
            bioUrl: "#",
            bio: "Barry Jenkins is an innovative real estate leader with nearly two decades of experience at the intersection of technology and results-driven leadership. As Chief Marketing Officer of Better Homes and Gardens Real Estate NAGR, he leads a top-performing team in Virginia Beach, VA, achieving thousands of transactions and earning a top national ranking on Real Trends Top 1,000 Teams. Barry also serves as Head Realtor in Residence at Ylopo, focusing on training, product development, and championing transformative technology. As an author, speaker, and ordained minister, he is deeply committed to his faith, family, and creating a legacy of integrity and excellence."
        },
        {
            name: "Bobby Moats",
            title: "AI Expert & Real Estate Innovator",
            company: "Speculo AI",
            photo: "img/bobbymoats.png",
            tagline: "Leveraging AI to transform how agents connect with leads and scale their businesses.",
            bioUrl: "#",
            bio: "Bobby Moats is passionate about driving innovation and empowering real estate professionals to achieve extraordinary results. With over a decade of experience, he has built his career on blending strategic leadership, cutting-edge technology, and a deep understanding of what agents and clients need to succeed. As founder of Speculo AI, Bobby is committed to leveraging artificial intelligence to transform how agents connect with leads, nurture relationships, and scale their businesses. His work focuses on creating tools and systems that simplify processes, improve efficiency, and deliver measurable resultsâ€”all while ensuring a personal touch remains at the core of real estate transactions."
        },
        {
            name: "Marissa Canario",
            title: "Real Estate Professional",
            company: "",
            photo: "img/MarissaCanario.jpg",
            tagline: "Expert in lead conversion and brokerage model evolution.",
            bioUrl: "#"
        },
        {
            name: "Michael Perna",
            title: "Team Leader & Real Estate Expert",
            company: "The Perna Team - eXp Realty",
            photo: "img/michaelcerna.webp",
            tagline: "Leading Michigan's #1 real estate team with over 1000 families served annually. 'I want to be remembered as passionate and helpful.'",
            bioUrl: "#",
            bio: "Michael Perna has been in real estate for over 20 years and spent the majority of his career with Keller Williams where he started his team in 2001 when realizing he had excelled as an individual agent and had room to grow and improve his overall client experience. The Perna Team is now with eXp Realty and has grown to the #1 real estate team in the state of Michigan with over 1000 families served in the past 12 months. The Perna Team aims at making every client relationship #1. Our objective is to ensure that we net the most for our sellers, as well as creating the smoothest transaction possible in addition to helping them find their dream home. Mike grew up in Farmington Hills Michigan and is passionate about the community and educating the community on the biggest investment most people will make in their lives. His energy and fun loving spirit is reflected in the culture of the team and the level of service provided to our clients."
        },
        {
            name: "Blair Knowles",
            title: "Real Estate Leader & Brokerage Owner",
            company: "Ridgeline Real Estate",
            photo: "img/blaireknowles.jpg",
            tagline: "Passionate about real estate as a vehicle for opportunity and community good.",
            bioUrl: "#",
            bio: "Blair has an unquenchable passion for real estate as a vehicle for opportunity and for community good. Blair began her real estate career in Vermont in 2013 at Keller Williams Vermont and went on to form her own team at the firm in 2015, The Knowles Group. In 2020 Blair and her team left the brokerage at Keller Williams to form their own brokerage, Ridgeline Real Estate. Outside of Ridgeline Real Estate Blair is a property owner and a landlord in Vermont. She is also an avid yoga practitioner."
        },
        {
            name: "Jessica Starr",
            title: "Real Estate Professional & Community Advocate",
            company: "Starr Team | LPT Realty",
            photo: "img/jessicastarr.jpg",
            tagline: "Known for her market insight, tireless work ethic, and personal touch â€” treating every client like family.",
            bioUrl: "#",
            bio: "Jessica Cieslak Starr is a proud Quinnipiac University graduate and seasoned real estate professional known for her market insight, tireless work ethic, and personal touch. Clients praise her responsiveness, strategic approach, and genuine care. Beyond real estate, Jessica is a dedicated community advocate, mom of four, and wife to her high school sweetheart. She has spent over 20 years with the Simsbury Volunteer Fire Department Ladies Auxiliary and actively supports organizations including The Village for Families & Children and Journey Home CT. Rooted in Simsbury, her deep local knowledge comes from living, serving, and raising her family in the area."
        },
        {
            name: "Norkis Fernandez",
            title: "Vice President",
            company: "LPT Realty",
            photo: "img/norkisfernandez.jpg",
            tagline: "Refining community-driven culture and enhancing brand identity with a focus on agent development.",
            bioUrl: "#",
            bio: "Norkis Fernandez Valdez serves as Vice President at LPT Realty, where she focuses on agent development and building a strong brand narrative. Her role encompasses refining the company's community-driven culture and enhancing brand identity. Her tenure on the Board of Directors at ORRA and NAHREP has granted her a unique perspective on industry-leading strategies. Through strategic branding and a nurturing environment, she has elevated market presence and attracted top-tier talent, reinforcing her commitment to growth and excellence within the industry."
        },
        {
            name: "David Lewis",
            title: "Business Builder & Multi-Business Owner",
            company: "TLG Atlanta | TLG Savannah",
            photo: "img/davidlewis.jpg",
            tagline: "Building the #1 team in the nation while creating 6-figure income earners and giving back to the community.",
            bioUrl: "#",
            bio: "David Lewis is a business builder passionate about creating opportunity. He owns and operates five businesses including TLG Atlanta, TLG Savannah, Pepper Boxing - Buckhead, Eleven16 Renovations, and CDL Holdings. A national teacher, trainer, and speaker, David graduated from The University of Alabama in 2008 and built the #1 team in one of the top brokerages in the nation in just 7 years. He has helped create more 6-figure income earners than anyone else in the industry. David is very active in Operation Christmas Child, launched the TLG Gives Fund during the pandemic, and believes in using success to give back to the community."
        },
        {
            name: "Ricky Miller",
            title: "Broker & Real Estate Leader",
            company: "Polk County Real Estate",
            photo: "img/rickymiller.webp",
            tagline: "Leading one of Polk County's largest real estate offices with expertise spanning property management to new home construction.",
            bioUrl: "#",
            bio: "With over 14 years of experience serving Polk County, Ricky Miller has established himself as one of the area's most respected real estate professionals. As Broker of the second-largest real estate office in Polk County, he has led and supported hundreds of agents while serving thousands of families across Central Florida. Ricky's career spans property management, residential sales, new home construction, and real estate investing. Known for his entrepreneurial drive and commitment to excellence, he continues to shape the future of real estate in Polk County and beyond."
        },
        {
            name: "Jomar Lopez",
            title: "Founder & Broker",
            company: "Level Up Network",
            photo: "img/jomarlopez.jpg",
            tagline: "Distinguished broker with licenses in Puerto Rico and Florida, leading 1,400+ agents with over 300 properties sold.",
            bioUrl: "#",
            bio: "Jomar LÃ³pez is a distinguished professional holding Broker licenses in both Puerto Rico and Florida. With 12 years of experience and over 300 properties sold, he has established himself as an authority in real estate. As Founder of Level Up Network, he leads an organization of more than 1,400 agents. Specializing as a HUD Listing Agent and in foreclosed properties, he has demonstrated a unique ability to identify and capitalize on market opportunities. His passion, leadership, and consistency have earned him awards for six consecutive years from NAHREP, including the prestigious Top 250 Latino Agent Award."
        },
        {
            name: "Michael Cruz",
            title: "Real Estate Expert",
            company: "",
            photo: "img/michaelcruz.png",
            tagline: "Industry expert and panelist.",
            bioUrl: "#"
        },
        {
            name: "Cindy Castillo",
            title: "Real Estate Coach & Team Leader",
            company: "Top Million Producer System",
            photo: "img/cindycastillo.jpg",
            tagline: "Empowering 3,000+ agents to achieve extraordinary results with over $100M in sales and 17 years of experience.",
            bioUrl: "#",
            bio: "Cindy Castillo drives the growth of real estate agents through the Top Million Producer System, a proven model designed to take their business to the next level. With more than 17 years of experience in the industry, she has achieved over $100 million in sales and led a team of more than 100 agents committed to excellence and results. Her true passion is real estate coaching, through which she has guided over 3,000 agents to structure their businesses, increase productivity, and achieve extraordinary results."
        },
        {
            name: "Francisco Lara",
            title: "International Realtor & CEO",
            company: "The Global Team - LPT Realty",
            photo: "img/franciscoAgente.jpg",
            tagline: "International real estate expert specializing in buying, selling, and investing in Florida.",
            bioUrl: "#",
            bio: "Francisco Lara is an International Realtor and CEO of The Global Team, powered by LPT Realty. He specializes in helping clients buy, sell, and invest in Florida real estate, bringing a global perspective to the local market."
        }
    ],
    
    agenda: [
        {
            day: "Thursday â€” Sponsor Showcase",
            date: "October 16, 2025",
            sessions: [
                {
                    time: "2:00 PM",
                    duration: "45 minutes",
                    title: "Ted Bogert",
                    speaker: "Ted Bogert",
                    location: "Expo Main Stage",
                    tag: "Sponsor Session",
                    description: "Join us for an engaging sponsor session with Ted Bogert."
                },
                {
                    time: "2:45 PM",
                    duration: "15 minutes",
                    title: "Fello",
                    speaker: "Fello",
                    location: "Expo Main Stage",
                    tag: "Sponsor Session",
                    description: "Learn about Fello's innovative solutions."
                },
                {
                    time: "3:00 PM",
                    duration: "45 minutes",
                    title: "Alex Cooper",
                    speaker: "Alex Cooper",
                    location: "Expo Main Stage",
                    tag: "Sponsor Session",
                    description: "Join us for an engaging sponsor session with Alex Cooper."
                },
                {
                    time: "3:45 PM",
                    duration: "15 minutes",
                    title: "Ruuster",
                    speaker: "Ruuster",
                    location: "Expo Main Stage",
                    tag: "Sponsor Session",
                    description: "Discover Ruuster's real estate solutions."
                }
            ]
        },
        {
            day: "Friday â€” Main Event",
            date: "October 17, 2025",
            sessions: [
                {
                    time: "11:00 AM â€“ 11:30 AM",
                    duration: "30 minutes",
                    title: "The Evolution of the Brokerage Model",
                    speaker: "Jessica Starr, Bobby Moats, Marissa Canario, David Lewis",
                    location: "Expo Main Stage",
                    tag: "Panel",
                    description: "Industry leaders discuss the changing landscape of real estate brokerages."
                },
                {
                    time: "11:30 AM â€“ 11:45 AM",
                    duration: "15 minutes",
                    title: "Crexi",
                    speaker: "Crexi",
                    location: "Expo Main Stage",
                    tag: "Sponsor Session",
                    description: "Discover Crexi's commercial real estate platform."
                },
                {
                    time: "11:45 AM â€“ 12:00 PM",
                    duration: "15 minutes",
                    title: "Panel",
                    speaker: "Norkis Fernandez, Ricky Miller",
                    location: "Expo Main Stage",
                    tag: "Panel",
                    description: "Expert insights and discussion."
                },
                {
                    time: "12:00 PM â€“ 12:15 PM",
                    duration: "15 minutes",
                    title: "Realty.com",
                    speaker: "Realty.com",
                    location: "Expo Main Stage",
                    tag: "Sponsor Session",
                    description: "Discover Realty.com's innovative tools and resources."
                },
                {
                    time: "12:15 PM â€“ 12:45 PM",
                    duration: "30 minutes",
                    title: "Panel",
                    speaker: "Jomar Lopez, Michael Cruz, Cindy Castillo, Francisco Lara",
                    location: "Expo Main Stage",
                    tag: "Panel",
                    description: "Industry experts share their insights."
                },
                {
                    time: "12:45 PM â€“ 1:00 PM",
                    duration: "15 minutes",
                    title: "Chris Doering Mortgage Team",
                    speaker: "Chris Doering Mortgage Team",
                    location: "Expo Main Stage",
                    tag: "Sponsor Session",
                    description: "Learn about mortgage solutions from the Chris Doering Mortgage Team."
                },
                {
                    time: "1:00 PM â€“ 1:30 PM",
                    duration: "30 minutes",
                    title: "Building Your AI-Powered Empire",
                    speaker: "Michael Perna, Blair Knowles, Bobby Moats",
                    location: "Expo Main Stage",
                    tag: "Panel",
                    description: "Learn how to leverage AI to grow your real estate business."
                },
                {
                    time: "1:30 PM â€“ 1:45 PM",
                    duration: "15 minutes",
                    title: "HomeFirst",
                    speaker: "HomeFirst",
                    location: "Expo Main Stage",
                    tag: "Sponsor Session",
                    description: "Learn about HomeFirst's mortgage solutions."
                },
                {
                    time: "1:45 PM â€“ 2:15 PM",
                    duration: "30 minutes",
                    title: "The 30-Day Conversion Comeback: Turn Old Leads Into New Closings",
                    speaker: "Marissa Canario, Blake Jenkins",
                    location: "Expo Main Stage",
                    tag: "Session",
                    description: "Learn strategies to convert old leads into new closings in just 30 days."
                },
                {
                    time: "2:15 PM â€“ 2:30 PM",
                    duration: "15 minutes",
                    title: "YLOPO",
                    speaker: "YLOPO",
                    location: "Expo Main Stage",
                    tag: "Sponsor Session",
                    description: "Learn about YLOPO's lead generation platform."
                },
                {
                    time: "3:00 PM â€“ 3:15 PM",
                    duration: "15 minutes",
                    title: "America's Preferred Home Warranty",
                    speaker: "America's Preferred Home Warranty",
                    location: "Expo Main Stage",
                    tag: "Sponsor Session",
                    description: "Discover home warranty solutions for your clients."
                },
                {
                    time: "3:15 PM â€“ 3:45 PM",
                    duration: "30 minutes",
                    title: "Glover U Power Session",
                    speaker: "Jeff Glover & Team",
                    location: "Expo Main Stage",
                    tag: "Power Session",
                    description: "Learn from Jeff Glover & Team in this power-packed session."
                }
            ]
        }
    ],
    
    // Tickets section is now static HTML - no data needed
    
    venue: {
        name: "Orlando World Center Marriott - Cypress Ballroom 2",
        address: "8701 World Center Dr, Orlando, FL 32821",
        mapUrl: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3510.4!2d-81.50928669917572!3d28.360979974698278!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88dd7b8c8c8c8c8d%3A0x8c8c8c8c8c8c8c8d!2sOrlando+Marriott+World+Center!5e0!3m2!1sen!2sus!4v1234567890",
        travelTips: "Orlando International Airport (MCO) is 20 minutes away. Uber, Lyft, and taxi services are readily available.",
        hotels: [
            {
                name: "Orlando World Center Marriott",
                link: "https://marriott.com/hotels/travel/mcowc-orlando-marriott-world-center"
            }
        ]
    },
    
    presentingSponsors: [
        {
            name: "Mutual of Omaha",
            logo: "img/sponsors/mutual-brand-white.svg",
            description: "Providing trusted insurance and financial services to help you protect what matters most.",
            link: "https://www.mutualofomaha.com",
            mediaUrl: null
        },
        {
            name: "ShowingTime Plus",
            logo: "img/sponsors/showing-logo.png",
            description: "Streamlining the showing process with advanced scheduling and property access solutions.",
            link: "https://www.showingtime.com",
            mediaUrl: null
        },
        {
            name: "Comparion Insurance",
            logo: "img/sponsors/comparion_logo.png",
            description: "Comprehensive insurance solutions designed specifically for real estate professionals.",
            link: "https://www.comparioninsurance.com",
            mediaUrl: null
        },
        {
            name: "Realtor.com",
            logo: "img/sponsors/realtorcom.png",
            description: "Connecting buyers and sellers with the most comprehensive real estate marketplace.",
            link: "https://www.realtor.com",
            mediaUrl: null
        }
    ],
    
    faq: [
        {
            question: "What is included in my free ticket?",
            answer: "Your free ticket includes access to all expo exhibitors, 8 hours of educational content from the Expo Stage, networking opportunities with top industry vendors, games, raffles, and prizes."
        },
        {
            question: "Who is eligible for a free ticket?",
            answer: "Tickets are free to any Licensed Real Estate Agent, Referral Agent, or Aspiring Real Estate Agent. Simply register with your name and email to claim your spot."
        },
        {
            question: "Is the venue accessible?",
            answer: "Yes, the Orlando World Center Marriott is fully ADA compliant with wheelchair accessibility, accessible parking, restrooms, and seating areas. Please contact us if you have specific accessibility needs."
        },
        {
            question: "Will sessions be recorded?",
            answer: "Select sessions may be recorded. Please check with individual speakers or our team for specific session recording availability."
        },
        {
            question: "What should I bring?",
            answer: "Bring business cards for networking, a notebook or device for taking notes, comfortable shoes for walking, and professional attire. We recommend planning for meals on your own as food is not provided at the event."
        },
        {
            question: "What is the code of conduct?",
            answer: "We maintain a professional, inclusive environment. Harassment, discrimination, or disruptive behavior will not be tolerated. All attendees must treat others with respect and professionalism."
        },
        {
            question: "Are meals provided?",
            answer: "No, meals are not provided at the event. The venue is located at the Orlando World Center Marriott which has multiple dining options available on-site, and there are many restaurants nearby."
        }
    ]
};

// ===== DOM ELEMENTS =====
const nav = document.getElementById('nav');
const navToggle = document.querySelector('.nav-toggle');
const navLinks = document.querySelector('.nav-links');

// ===== NAVIGATION FUNCTIONALITY =====
function initNavigation() {
    let lastScrollTop = 0;
    
    // Scroll effect for navigation
    window.addEventListener('scroll', () => {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        // Check if mobile menu is open
        const isMobileMenuOpen = navLinks?.classList.contains('active');
        
        // Add scrolled class for styling
        if (scrollTop > 100) {
            nav.classList.add('scrolled');
        } else {
            nav.classList.remove('scrolled');
            nav.classList.remove('nav-hidden');
        }
        
        // Hide/show navigation based on scroll direction
        // Don't hide if mobile menu is open
        if (scrollTop > lastScrollTop && scrollTop > 100) {
            // Scrolling down - hide nav (but not if mobile menu is open)
            if (!isMobileMenuOpen) {
                nav.classList.add('nav-hidden');
            }
        } else if (scrollTop < lastScrollTop) {
            // Scrolling up - show nav
            nav.classList.remove('nav-hidden');
        }
        
        // Hero background parallax effect (throttled for smoothness)
        requestAnimationFrame(() => {
            const heroBackground = document.querySelector('.hero-background');
            const heroSection = document.querySelector('.hero');
            if (heroBackground && heroSection) {
                const heroHeight = heroSection.offsetHeight;
                const scrollProgress = Math.min(scrollTop / heroHeight, 1);
                
                // Parallax movement - background moves slower than scroll
                const parallaxOffset = scrollTop * 0.5; // 50% of scroll speed
                const zoomFactor = 1 + (scrollProgress * 0.2); // 20% max zoom
                
                // Apply parallax transform without overriding the breathing animation
                heroBackground.style.setProperty('--parallax-offset', `${parallaxOffset}px`);
                heroBackground.style.setProperty('--parallax-scale', zoomFactor);
            }
        });
        
        lastScrollTop = scrollTop;
    });

    // Mobile navigation toggle
    navToggle?.addEventListener('click', () => {
        navLinks?.classList.toggle('active');
        navToggle.classList.toggle('active');
    });

    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                // Close mobile menu when clicking a nav link
                navLinks?.classList.remove('active');
                navToggle?.classList.remove('active');
                
                const offsetTop = target.offsetTop - 80;
                window.scrollTo({
                    top: offsetTop,
                    behavior: 'smooth'
                });
            }
        });
    });
}

// ===== COUNTDOWN FUNCTIONALITY =====
function initCountdown() {
    const countdownElements = {
        days: document.getElementById('days'),
        hours: document.getElementById('hours'),
        minutes: document.getElementById('minutes'),
        seconds: document.getElementById('seconds')
    };

    const priceCountdownElements = {
        days: document.getElementById('price-days'),
        hours: document.getElementById('price-hours'),
        minutes: document.getElementById('price-minutes')
    };

    function updateCountdown() {
        const now = new Date().getTime();
        const eventDate = new Date(eventData.event.eventStartDate).getTime();
        const distance = eventDate - now;

        if (distance > 0) {
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Update main countdown
            if (countdownElements.days) countdownElements.days.textContent = days.toString().padStart(2, '0');
            if (countdownElements.hours) countdownElements.hours.textContent = hours.toString().padStart(2, '0');
            if (countdownElements.minutes) countdownElements.minutes.textContent = minutes.toString().padStart(2, '0');
            if (countdownElements.seconds) countdownElements.seconds.textContent = seconds.toString().padStart(2, '0');

            // Update price countdown
            if (priceCountdownElements.days) priceCountdownElements.days.textContent = days.toString().padStart(2, '0');
            if (priceCountdownElements.hours) priceCountdownElements.hours.textContent = hours.toString().padStart(2, '0');
            if (priceCountdownElements.minutes) priceCountdownElements.minutes.textContent = minutes.toString().padStart(2, '0');
        } else {
            // Early bird period has ended
            const earlyBirdBadge = document.getElementById('early-bird-badge');
            if (earlyBirdBadge) {
                earlyBirdBadge.style.display = 'none';
            }
            
            // Hide countdown elements
            if (countdownElements.days) countdownElements.days.textContent = '00';
            if (countdownElements.hours) countdownElements.hours.textContent = '00';
            if (countdownElements.minutes) countdownElements.minutes.textContent = '00';
            if (countdownElements.seconds) countdownElements.seconds.textContent = '00';
            
            if (priceCountdownElements.days) priceCountdownElements.days.textContent = '00';
            if (priceCountdownElements.hours) priceCountdownElements.hours.textContent = '00';
            if (priceCountdownElements.minutes) priceCountdownElements.minutes.textContent = '00';
        }
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);
}

// ===== SPONSORS RENDERING =====
function renderSponsors() {
    const sponsorsGrid = document.getElementById('sponsors-grid');
    if (!sponsorsGrid) {
        console.error('Sponsors grid not found');
        return;
    }

    // Split sponsors into visible and hidden groups
    const totalSponsors = eventData.sponsors.length;
    // Show 5 sponsors on mobile, 12 on desktop
    const isMobile = window.innerWidth <= 768;
    const visibleCount = isMobile ? 5 : 12;
    const visibleSponsors = eventData.sponsors.slice(0, visibleCount);
    const hiddenSponsors = eventData.sponsors.slice(visibleCount);
    
    console.log('Total sponsors:', totalSponsors);
    console.log('Visible sponsors:', visibleSponsors.length);
    console.log('Hidden sponsors:', hiddenSponsors.length);

    // Render visible sponsors
    const visibleHtml = visibleSponsors.map(sponsor => `
        <div class="sponsor-item">
            <img src="${sponsor.logo}" alt="${sponsor.name}" class="sponsor-logo" loading="lazy">
        </div>
    `).join('');

    // Render hidden sponsors
    const hiddenHtml = hiddenSponsors.map(sponsor => `
        <div class="sponsor-item sponsor-hidden">
            <img src="${sponsor.logo}" alt="${sponsor.name}" class="sponsor-logo" loading="lazy">
        </div>
    `).join('');

    // Render only the sponsors in the grid
    sponsorsGrid.innerHTML = visibleHtml + hiddenHtml;

    // Add reveal button outside the grid if there are hidden sponsors
    if (hiddenSponsors.length > 0) {
        const sponsorsSection = sponsorsGrid.closest('.sponsors');
        const existingButton = sponsorsSection.querySelector('.sponsor-reveal-container');
        const existingText = sponsorsSection.querySelector('.more-sponsors-text');
        
        if (existingButton) {
            existingButton.remove();
        }
        if (existingText) {
            existingText.remove();
        }
        
        // Add text about more sponsors not listed
        const moreSponsorsText = document.createElement('p');
        moreSponsorsText.className = 'more-sponsors-text';
        moreSponsorsText.innerHTML = 'More sponsors not listed above';
        sponsorsSection.appendChild(moreSponsorsText);
        
        const revealButton = document.createElement('div');
        revealButton.className = 'sponsor-reveal-container';
        revealButton.innerHTML = `
            <button class="btn btn-outline sponsor-reveal-btn" id="sponsor-reveal-btn">
                Show More Sponsors
                <span class="btn-arrow">â†“</span>
            </button>
        `;
        
        sponsorsSection.appendChild(revealButton);
    }

    // Add event listener for reveal button
    if (hiddenSponsors.length > 0) {
        const revealBtn = document.getElementById('sponsor-reveal-btn');
        if (revealBtn) {
            revealBtn.addEventListener('click', toggleSponsorVisibility);
        }
    }
}

// ===== SPONSOR VISIBILITY TOGGLE =====
function toggleSponsorVisibility() {
    const hiddenSponsors = document.querySelectorAll('.sponsor-hidden');
    const revealBtn = document.getElementById('sponsor-reveal-btn');
    
    if (!hiddenSponsors.length || !revealBtn) return;
    
    const isRevealed = hiddenSponsors[0].classList.contains('sponsor-revealed');
    
    if (isRevealed) {
        // Hide sponsors
        hiddenSponsors.forEach(sponsor => {
            sponsor.style.display = 'none';
            sponsor.classList.remove('sponsor-revealed');
        });
        revealBtn.innerHTML = 'Show More Sponsors <span class="btn-arrow">â†“</span>';
    } else {
        // Show sponsors
        hiddenSponsors.forEach(sponsor => {
            sponsor.style.display = 'block';
            sponsor.classList.add('sponsor-revealed');
        });
        revealBtn.innerHTML = 'Show Less Sponsors <span class="btn-arrow">â†‘</span>';
    }
}

// ===== PILLARS RENDERING =====
function renderPillars() {
    const pillarsGrid = document.getElementById('pillars-grid');
    if (!pillarsGrid) return;

    const html = eventData.pillars.map(pillar => `
        <div class="pillar-item">
            <div class="pillar-icon">${pillar.icon}</div>
            <h3 class="pillar-title">${pillar.title}</h3>
            <p class="pillar-description">${pillar.description}</p>
        </div>
    `).join('');

    pillarsGrid.innerHTML = html;
}

// ===== FEATURED SPEAKER CAROUSEL =====
let currentSpeakerIndex = 0;
let speakerAutoRotateInterval = null;
let speakerRotationPaused = false;
let speakerLastInteractionTime = 0;
let speakerTouchStartX = 0;
let speakerTouchEndX = 0;

function renderSpeakers() {
    const carouselInner = document.getElementById('speaker-carousel-inner');
    const dotsContainer = document.getElementById('speaker-dots');
    
    if (!carouselInner || !dotsContainer) return;

    // Limit carousel to first 5 featured speakers
    const featuredSpeakers = eventData.speakers.slice(0, 5);

    // Render speaker slides
    const slidesHtml = featuredSpeakers.map((speaker, index) => `
        <div class="speaker-slide ${index === 0 ? 'active' : ''}" 
             data-index="${index}"
             role="tabpanel"
             aria-label="Speaker ${index + 1} of ${featuredSpeakers.length}: ${speaker.name}">
            <div class="speaker-image-container">
                <img src="${speaker.photo}" 
                     alt="${speaker.name}" 
                     class="speaker-headshot"
                     loading="${index === 0 ? 'eager' : 'lazy'}">
            </div>
            <div class="speaker-content">
                <h3 class="speaker-name">${speaker.name}</h3>
                <p class="speaker-title">${speaker.title}</p>
                <p class="speaker-company">${speaker.company}</p>
                ${speaker.tagline ? `<p class="speaker-tagline">${speaker.tagline}</p>` : ''}
            </div>
        </div>
    `).join('');

    carouselInner.innerHTML = slidesHtml;

    // Render dots
    const dotsHtml = featuredSpeakers.map((speaker, index) => `
        <button class="speaker-dot ${index === 0 ? 'active' : ''}" 
                data-index="${index}"
                role="tab"
                aria-label="Go to speaker ${index + 1}: ${speaker.name}"
                aria-selected="${index === 0}">
        </button>
    `).join('');

    dotsContainer.innerHTML = dotsHtml;

    // Initialize carousel
    initSpeakerCarousel();
    
    // Update speaker count display
    updateSpeakerCount(featuredSpeakers.length);
    
    // Render all speakers grid
    renderAllSpeakersGrid();
    
    // Initialize view all toggle
    initViewAllSpeakersToggle();
}

function updateSpeakerCount(featuredCount) {
    const countElement = document.getElementById('additional-speaker-count');
    if (!countElement) return;
    
    const totalSpeakers = eventData.speakers.length;
    const additionalSpeakers = totalSpeakers - featuredCount;
    
    if (additionalSpeakers > 0) {
        countElement.textContent = additionalSpeakers;
    }
}

function renderAllSpeakersGrid() {
    const gridContainer = document.getElementById('all-speakers-grid');
    if (!gridContainer) return;

    const cardsHtml = eventData.speakers.map((speaker, index) => `
        <div class="speaker-card">
            <div class="speaker-card-image">
                <img src="${speaker.photo}" 
                     alt="${speaker.name}" 
                     class="speaker-card-photo"
                     loading="lazy">
            </div>
            <div class="speaker-card-content">
                <h3 class="speaker-card-name">${speaker.name}</h3>
                <p class="speaker-card-title">${speaker.title}</p>
                <p class="speaker-card-company">${speaker.company}</p>
                ${speaker.tagline ? `<p class="speaker-card-tagline">${speaker.tagline}</p>` : ''}
            </div>
        </div>
    `).join('');

    gridContainer.innerHTML = cardsHtml;
}

function initViewAllSpeakersToggle() {
    const toggleBtn = document.getElementById('view-all-speakers-btn');
    const container = document.getElementById('all-speakers-container');
    
    if (!toggleBtn || !container) return;

    toggleBtn.addEventListener('click', (e) => {
        e.preventDefault(); // Prevent default button behavior
        const isExpanded = toggleBtn.getAttribute('aria-expanded') === 'true';
        
        if (isExpanded) {
            // Collapse
            container.classList.remove('visible');
            container.setAttribute('aria-hidden', 'true');
            toggleBtn.setAttribute('aria-expanded', 'false');
            toggleBtn.innerHTML = 'View All Speakers <span class="btn-arrow" id="speaker-arrow">â†“</span>';
        } else {
            // Expand
            container.style.display = 'block';
            setTimeout(() => {
                container.classList.add('visible');
                container.setAttribute('aria-hidden', 'false');
                toggleBtn.setAttribute('aria-expanded', 'true');
                toggleBtn.innerHTML = 'Hide Speakers <span class="btn-arrow" id="speaker-arrow">â†‘</span>';
            }, 10);
        }
    });
}

function initSpeakerCarousel() {
    const carousel = document.querySelector('.speaker-carousel');
    const prevBtn = document.querySelector('.speaker-prev');
    const nextBtn = document.querySelector('.speaker-next');
    const dotsContainer = document.getElementById('speaker-dots');
    
    if (!carousel) return;

    // Navigation button handlers
    if (prevBtn) {
        prevBtn.addEventListener('click', (e) => {
            e.preventDefault();
            changeSpeaker('prev');
            pauseSpeakerRotationTemporarily();
        });
    }

    if (nextBtn) {
        nextBtn.addEventListener('click', (e) => {
            e.preventDefault();
            changeSpeaker('next');
            pauseSpeakerRotationTemporarily();
        });
    }

    // Dot navigation
    if (dotsContainer) {
        dotsContainer.addEventListener('click', (e) => {
            e.preventDefault();
            const dot = e.target.closest('.speaker-dot');
            if (dot) {
                const index = parseInt(dot.dataset.index);
                goToSpeaker(index);
                pauseSpeakerRotationTemporarily();
            }
        });
    }

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
        const carousel = document.querySelector('.speaker-carousel');
        if (!carousel) return;
        
        // Check if carousel is in viewport
        const rect = carousel.getBoundingClientRect();
        const isInViewport = rect.top < window.innerHeight && rect.bottom > 0;
        
        if (isInViewport) {
            if (e.key === 'ArrowLeft') {
                e.preventDefault();
                changeSpeaker('prev');
                pauseSpeakerRotationTemporarily();
            } else if (e.key === 'ArrowRight') {
                e.preventDefault();
                changeSpeaker('next');
                pauseSpeakerRotationTemporarily();
            }
        }
    });

    // Hover pause/resume
    carousel.addEventListener('mouseenter', () => {
        pauseSpeakerRotation();
        carousel.classList.add('paused');
    });

    carousel.addEventListener('mouseleave', () => {
        resumeSpeakerRotation();
        carousel.classList.remove('paused');
    });

    // Focus pause/resume
    carousel.addEventListener('focusin', () => {
        pauseSpeakerRotation();
        carousel.classList.add('paused');
    });

    carousel.addEventListener('focusout', () => {
        resumeSpeakerRotation();
        carousel.classList.remove('paused');
    });

    // Touch/swipe gestures for mobile
    const carouselInner = document.getElementById('speaker-carousel-inner');
    if (carouselInner) {
        carouselInner.addEventListener('touchstart', (e) => {
            speakerTouchStartX = e.touches[0].clientX;
        }, { passive: true });

        carouselInner.addEventListener('touchend', (e) => {
            speakerTouchEndX = e.changedTouches[0].clientX;
            handleSpeakerSwipe();
        }, { passive: true });
    }

    // Start auto-rotation
    startSpeakerRotation();
}

function changeSpeaker(direction) {
    const slides = document.querySelectorAll('.speaker-slide');
    const dots = document.querySelectorAll('.speaker-dot');
    
    if (!slides.length) return;

    // Remove active class from current slide
    slides[currentSpeakerIndex].classList.remove('active', 'slide-in-left', 'slide-in-right');
    dots[currentSpeakerIndex].classList.remove('active');
    dots[currentSpeakerIndex].setAttribute('aria-selected', 'false');

    // Calculate new index
    if (direction === 'next') {
        currentSpeakerIndex = (currentSpeakerIndex + 1) % slides.length;
    } else {
        currentSpeakerIndex = (currentSpeakerIndex - 1 + slides.length) % slides.length;
    }

    // Add active class to new slide with animation
    const animationClass = direction === 'next' ? 'slide-in-right' : 'slide-in-left';
    slides[currentSpeakerIndex].classList.add('active', animationClass);
    dots[currentSpeakerIndex].classList.add('active');
    dots[currentSpeakerIndex].setAttribute('aria-selected', 'true');

    // Update ARIA live region for screen readers
    const carousel = document.querySelector('.speaker-carousel');
    const speaker = eventData.speakers[currentSpeakerIndex];
    carousel?.setAttribute('aria-label', 
        `Now showing speaker ${currentSpeakerIndex + 1} of ${slides.length}: ${speaker.name}, ${speaker.title} at ${speaker.company}`
    );
}

function goToSpeaker(index) {
    const slides = document.querySelectorAll('.speaker-slide');
    const dots = document.querySelectorAll('.speaker-dot');
    
    if (index === currentSpeakerIndex || !slides.length) return;

    const direction = index > currentSpeakerIndex ? 'next' : 'prev';

    // Remove active class from current slide
    slides[currentSpeakerIndex].classList.remove('active', 'slide-in-left', 'slide-in-right');
    dots[currentSpeakerIndex].classList.remove('active');
    dots[currentSpeakerIndex].setAttribute('aria-selected', 'false');

    // Update index
    currentSpeakerIndex = index;

    // Add active class to new slide with animation
    const animationClass = direction === 'next' ? 'slide-in-right' : 'slide-in-left';
    slides[currentSpeakerIndex].classList.add('active', animationClass);
    dots[currentSpeakerIndex].classList.add('active');
    dots[currentSpeakerIndex].setAttribute('aria-selected', 'true');

    // Update ARIA
    const carousel = document.querySelector('.speaker-carousel');
    const speaker = eventData.speakers[currentSpeakerIndex];
    carousel?.setAttribute('aria-label', 
        `Now showing speaker ${currentSpeakerIndex + 1} of ${slides.length}: ${speaker.name}`
    );
}

function handleSpeakerSwipe() {
    const swipeThreshold = 50;
    const diff = speakerTouchStartX - speakerTouchEndX;

    if (Math.abs(diff) > swipeThreshold) {
        if (diff > 0) {
            // Swipe left - next slide
            changeSpeaker('next');
        } else {
            // Swipe right - previous slide
            changeSpeaker('prev');
        }
        pauseSpeakerRotationTemporarily();
    }
}

function startSpeakerRotation() {
    if (speakerAutoRotateInterval) return;
    
    // Auto-rotate every 5 seconds (5000ms)
    speakerAutoRotateInterval = setInterval(() => {
        if (!speakerRotationPaused) {
            changeSpeaker('next');
        }
    }, 5000);
}

function pauseSpeakerRotation() {
    speakerRotationPaused = true;
}

function resumeSpeakerRotation() {
    speakerRotationPaused = false;
}

function pauseSpeakerRotationTemporarily() {
    speakerRotationPaused = true;
    speakerLastInteractionTime = Date.now();

    // Resume after 10 seconds of no interaction
    setTimeout(() => {
        const timeSinceLastInteraction = Date.now() - speakerLastInteractionTime;
        if (timeSinceLastInteraction >= 10000) {
            speakerRotationPaused = false;
        }
    }, 10000);
}

function stopSpeakerRotation() {
    if (speakerAutoRotateInterval) {
        clearInterval(speakerAutoRotateInterval);
        speakerAutoRotateInterval = null;
    }
}

// ===== AGENDA RENDERING =====
function renderAgenda() {
    eventData.agenda.forEach((day, index) => {
        const scheduleContainer = document.getElementById(`day${index + 1}-schedule`);
        if (!scheduleContainer) return;
        
        const sessionsHtml = day.sessions.map(session => `
            <div class="agenda-item">
                <div class="agenda-time">
                    <div class="agenda-time-primary">${session.time}</div>
                    ${session.duration ? `<div class="agenda-time-duration">${session.duration}</div>` : ''}
                </div>
                <div class="agenda-details">
                    <h3 class="agenda-title">${session.title}</h3>
                    <div class="agenda-meta">
                        ${session.speaker ? `
                            <span class="agenda-speaker">
                                <i class="fas fa-user"></i>
                                ${session.speaker}
                            </span>
                        ` : ''}
                        ${session.location ? `
                            <span class="agenda-location">
                                <i class="fas fa-map-marker-alt"></i>
                                ${session.location}
                            </span>
                        ` : ''}
                        ${session.tag ? `
                            <span class="agenda-tag">${session.tag}</span>
                        ` : ''}
                    </div>
                    ${session.description ? `
                        <p class="agenda-description">${session.description}</p>
                    ` : ''}
                </div>
            </div>
        `).join('');
        
        scheduleContainer.innerHTML = sessionsHtml;
    });
    
    // Initialize tab functionality
    initAgendaTabs();
}

function initAgendaTabs() {
    const tabs = document.querySelectorAll('.agenda-tab');
    const panels = document.querySelectorAll('.agenda-panel');
    
    tabs.forEach(tab => {
        tab.addEventListener('click', (e) => {
            e.preventDefault();
            switchAgendaTab(tab, tabs, panels);
        });
        
        // Keyboard navigation
        tab.addEventListener('keydown', (e) => {
            handleAgendaKeyboard(e, tab, tabs);
        });
    });
}

function switchAgendaTab(selectedTab, allTabs, allPanels) {
    const targetPanel = selectedTab.getAttribute('aria-controls');
    
    // Deactivate all tabs and panels
    allTabs.forEach(tab => {
        tab.classList.remove('active');
        tab.setAttribute('aria-selected', 'false');
    });
    
    allPanels.forEach(panel => {
        panel.classList.remove('active');
        panel.setAttribute('hidden', '');
    });
    
    // Activate selected tab and panel
    selectedTab.classList.add('active');
    selectedTab.setAttribute('aria-selected', 'true');
    
    const panel = document.getElementById(targetPanel);
    if (panel) {
        panel.classList.add('active');
        panel.removeAttribute('hidden');
    }
}

function handleAgendaKeyboard(e, currentTab, allTabs) {
    let newIndex = -1;
    const currentIndex = Array.from(allTabs).indexOf(currentTab);
    
    if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
        e.preventDefault();
        newIndex = currentIndex + 1;
        if (newIndex >= allTabs.length) newIndex = 0;
    } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
        e.preventDefault();
        newIndex = currentIndex - 1;
        if (newIndex < 0) newIndex = allTabs.length - 1;
    } else if (e.key === 'Home') {
        e.preventDefault();
        newIndex = 0;
    } else if (e.key === 'End') {
        e.preventDefault();
        newIndex = allTabs.length - 1;
    }
    
    if (newIndex !== -1) {
        allTabs[newIndex].focus();
        allTabs[newIndex].click();
    }
}

// ===== TICKETS RENDERING =====
// Tickets section is now static HTML - no JavaScript rendering needed

// ===== VENUE RENDERING =====
function renderVenue() {
    const venueDetails = document.getElementById('venue-details');
    const mapContainer = document.getElementById('map-container');
    
    if (venueDetails) {
        venueDetails.innerHTML = `
            <h3>${eventData.venue.name}</h3>
            <p class="venue-address">${eventData.venue.address}</p>
            
            <div class="venue-info-section">
                <h4>Travel Information</h4>
                <p>${eventData.venue.travelTips}</p>
            </div>
            
            <div class="venue-info-section">
                <h4>Partner Hotels</h4>
                <ul class="hotel-list">
                    ${eventData.venue.hotels.map(hotel => `
                        <li class="hotel-item">
                            <span class="hotel-name">${hotel.name}</span>
                        </li>
                    `).join('')}
                </ul>
            </div>
            
            <a href="https://www.marriott.com/search/findHotels.mi?pageType=advanced&searchType=InCity&destinationAddress.latitude=28.360086&destinationAddress.longitude=-81.508582&destinationAddress.destination=Orlando+World+Center+Marriott&nst=paid&cid=PAI_GLB0004YXD_GLE000BIM5_GLF000OETA&ppc=ppc&pId=ustbppc&gclsrc=aw.ds&gad_source=1&gad_campaignid=22339671805&gbraid=0AAAAADilnicXeEIZps0ez0MvrbgUtEEbR" class="btn btn-outline" target="_blank" rel="noopener">
                Book Hotel Package
                <span class="btn-arrow">â†’</span>
            </a>
        `;
    }

    if (mapContainer) {
        mapContainer.innerHTML = `
            <iframe 
                src="${eventData.venue.mapUrl}" 
                width="100%" 
                height="100%" 
                style="border:0; border-radius: 16px;" 
                allowfullscreen="" 
                loading="lazy" 
                referrerpolicy="no-referrer-when-downgrade"
                title="Venue Location Map">
            </iframe>
        `;
    }
}

// ===== PRESENTING SPONSORS RENDERING =====
function renderPresentingSponsors() {
    const presentingSponsorsGrid = document.getElementById('presenting-sponsors-grid');
    if (!presentingSponsorsGrid) return;

    const html = eventData.presentingSponsors.map(sponsor => `
        <div class="presenting-sponsor-item">
            <img src="${sponsor.logo}" alt="${sponsor.name}" class="presenting-sponsor-logo" loading="lazy">
            <p class="presenting-sponsor-description">${sponsor.description}</p>
            <a href="${sponsor.link}" class="presenting-sponsor-link" target="_blank" rel="noopener">
                Learn More â†’
            </a>
        </div>
    `).join('');

    presentingSponsorsGrid.innerHTML = html;
}

// ===== FAQ FUNCTIONALITY =====
function initFAQ() {
    const faqContainer = document.getElementById('faq-container');
    if (!faqContainer) return;

    // Render FAQ items
    const html = eventData.faq.map((item, index) => `
        <div class="faq-item" data-index="${index}">
            <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-${index}">
                ${item.question}
                <span class="faq-icon">+</span>
            </button>
            <div class="faq-answer" id="faq-answer-${index}">
                <div class="faq-answer-content">${item.answer}</div>
            </div>
        </div>
    `).join('');

    faqContainer.innerHTML = html;

    // Add click handlers for FAQ items
    faqContainer.addEventListener('click', (e) => {
        const question = e.target.closest('.faq-question');
        if (!question) return;

        const faqItem = question.closest('.faq-item');
        const isActive = faqItem.classList.contains('active');

        // Close all FAQ items
        document.querySelectorAll('.faq-item').forEach(item => {
            item.classList.remove('active');
            const btn = item.querySelector('.faq-question');
            btn.setAttribute('aria-expanded', 'false');
        });

        // Open clicked item if it wasn't active
        if (!isActive) {
            faqItem.classList.add('active');
            question.setAttribute('aria-expanded', 'true');
        }
    });
}

// ===== NEWSLETTER FUNCTIONALITY =====
function initNewsletter() {
    const newsletterForm = document.getElementById('newsletter-form');
    if (!newsletterForm) return;

    newsletterForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const email = e.target.querySelector('input[type="email"]').value;
        
        // Simulate form submission
        alert(`Thank you for subscribing with ${email}! You'll receive updates about Ascend Agent Expo.`);
        e.target.reset();
    });
}

// ===== ANIMATIONS & INTERACTIONS =====
function initAnimations() {
    // Intersection Observer for fade-in animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
                // Remove inline transform after animation completes to allow hover effects
                setTimeout(() => {
                    entry.target.style.transform = '';
                }, 600);
            }
        });
    }, observerOptions);

    // Observe elements for animation
    document.querySelectorAll('.pillar-item, .ticket-card, .sponsor-item, .presenting-sponsor-item').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(el);
    });
}

// ===== ACCESSIBILITY ENHANCEMENTS =====
function initAccessibility() {
    // Keyboard navigation for mobile menu
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            navLinks?.classList.remove('active');
            navToggle?.classList.remove('active');
        }
    });

    // Focus management for FAQ
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
            const faqQuestion = e.target.closest('.faq-question');
            if (faqQuestion) {
                e.preventDefault();
                faqQuestion.click();
            }
        }
    });
}

// ===== PERFORMANCE OPTIMIZATIONS =====
function initPerformance() {
    // Lazy load images
    if ('IntersectionObserver' in window) {
        const imageObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    img.src = img.dataset.src || img.src;
                    img.classList.remove('lazy');
                    imageObserver.unobserve(img);
                }
            });
        });

        document.querySelectorAll('img[loading="lazy"]').forEach(img => {
            imageObserver.observe(img);
        });
    }

    // Preload critical resources
    const preloadLink = document.createElement('link');
    preloadLink.rel = 'preload';
    preloadLink.as = 'font';
    preloadLink.type = 'font/woff2';
    preloadLink.crossOrigin = 'anonymous';
    preloadLink.href = 'https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZ9hiA.woff2';
    document.head.appendChild(preloadLink);
}

// ===== FUTURISTIC BACKGROUND EFFECTS =====
function initFuturisticBackground() {
    const heroSection = document.querySelector('.hero');
    const dotsLayers = document.querySelectorAll('.dots-layer');
    const connectionLines = document.querySelector('.connection-lines');
    
    if (!heroSection || !dotsLayers.length) return;
    
    let ticking = false;
    
    function updateParallax() {
        const scrolled = window.pageYOffset;
        const rate = scrolled * -0.5;
        const rate2 = scrolled * -0.3;
        const rate3 = scrolled * -0.1;
        
        // Parallax effect for different layers
        if (dotsLayers[0]) dotsLayers[0].style.transform = `translateY(${rate}px)`;
        if (dotsLayers[1]) dotsLayers[1].style.transform = `translateY(${rate2}px)`;
        if (dotsLayers[2]) dotsLayers[2].style.transform = `translateY(${rate3}px)`;
        if (connectionLines) connectionLines.style.transform = `translateY(${rate * 0.7}px)`;
        
        ticking = false;
    }
    
    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(updateParallax);
            ticking = true;
        }
    }
    
    // Throttled scroll listener for performance
    window.addEventListener('scroll', requestTick, { passive: true });
    
    // Mouse movement effect
    heroSection.addEventListener('mousemove', (e) => {
        const { clientX, clientY } = e;
        const { innerWidth, innerHeight } = window;
        
        const xPos = (clientX / innerWidth - 0.5) * 20;
        const yPos = (clientY / innerHeight - 0.5) * 20;
        
        dotsLayers.forEach((layer, index) => {
            const intensity = (index + 1) * 0.3;
            layer.style.transform = `translate(${xPos * intensity}px, ${yPos * intensity}px)`;
        });
    });
    
    // Reset on mouse leave
    heroSection.addEventListener('mouseleave', () => {
        dotsLayers.forEach(layer => {
            layer.style.transform = '';
        });
        if (connectionLines) connectionLines.style.transform = '';
    });
}

// ===== FLOATING CTA FUNCTIONALITY =====
function initFloatingCTA() {
    const floatingCTA = document.querySelector('.floating-cta');
    const floatingBtn = document.querySelector('.floating-cta-btn');
    
    if (!floatingCTA || !floatingBtn) return;
    
    // Hide/show floating CTA based on scroll position
    let lastScrollTop = 0;
    let ticking = false;
    
    function updateFloatingCTA() {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const windowHeight = window.innerHeight;
        const documentHeight = document.documentElement.scrollHeight;
        
        // Hide when at the very top or bottom of the page
        if (scrollTop < 100 || scrollTop + windowHeight >= documentHeight - 100) {
            floatingCTA.style.opacity = '0.7';
            floatingCTA.style.transform = 'scale(0.9)';
        } else {
            floatingCTA.style.opacity = '1';
            floatingCTA.style.transform = 'scale(1)';
        }
        
        // Add pulse animation when scrolling down
        if (scrollTop > lastScrollTop && scrollTop > 200) {
            floatingBtn.style.animation = 'pulse 1s ease-in-out';
            setTimeout(() => {
                floatingBtn.style.animation = '';
            }, 1000);
        }
        
        lastScrollTop = scrollTop;
        ticking = false;
    }
    
    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(updateFloatingCTA);
            ticking = true;
        }
    }
    
    window.addEventListener('scroll', requestTick, { passive: true });
    
    // Add click tracking (optional - for analytics)
    floatingBtn.addEventListener('click', () => {
        // Track the click event if you have analytics
        console.log('Floating CTA clicked');
    });
    
    // Add keyboard accessibility
    floatingBtn.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            floatingBtn.click();
        }
    });
}

// ===== INITIALIZATION =====
document.addEventListener('DOMContentLoaded', () => {
    initNavigation();
    initCountdown();
    renderSponsors();
    renderPillars();
    renderSpeakers();
    renderAgenda();
    renderVenue();
    renderPresentingSponsors();
    initFAQ();
    initAnimations();
    initAccessibility();
    initPerformance();
    initFuturisticBackground();
    initFloatingCTA();
    initAnimatedCounters();
    
    // Re-render sponsors on resize to adjust visible count for mobile/desktop
    let resizeTimer;
    window.addEventListener('resize', () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(() => {
            renderSponsors();
        }, 250);
    });
});

// ===== UTILITY FUNCTIONS =====
function updateEventData(newData) {
    Object.assign(eventData, newData);
    
    // Re-render affected sections
    renderSponsors();
    renderPillars();
    if (newData.speakers) {
        stopSpeakerRotation();
        renderSpeakers();
    }
    renderVenue();
    renderPresentingSponsors();
    initFAQ();
    initAnimatedCounters();
}

// ===== ANIMATED COUNTERS =====
function animateCounter(element, target, suffix = '', duration = 2000) {
    const startTime = performance.now();
    const startValue = 0;
    
    function updateCounter(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        
        // Use easing function for smooth animation
        const easeOutQuart = 1 - Math.pow(1 - progress, 4);
        const currentValue = Math.floor(startValue + (target - startValue) * easeOutQuart);
        
        element.textContent = currentValue + suffix;
        
        if (progress < 1) {
            requestAnimationFrame(updateCounter);
        } else {
            element.textContent = target + suffix;
        }
    }
    
    requestAnimationFrame(updateCounter);
}

function initAnimatedCounters() {
    const statNumbers = document.querySelectorAll('.stat-number[data-target]');
    
    if (statNumbers.length === 0) return;
    
    // Create intersection observer
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const element = entry.target;
                const target = parseInt(element.dataset.target);
                const suffix = element.dataset.suffix || '';
                
                // Start animation
                animateCounter(element, target, suffix);
                
                // Stop observing this element
                observer.unobserve(element);
            }
        });
    }, {
        threshold: 0.5, // Trigger when 50% of the element is visible
        rootMargin: '0px 0px -100px 0px' // Start animation slightly before element is fully visible
    });
    
    // Start observing all stat numbers
    statNumbers.forEach(stat => {
        observer.observe(stat);
    });
}

// Export for external use
window.AscendExpo = {
    eventData,
    updateEventData
};
